# Ubuntu-18.04.6-Mac-M1
1.Install Ubutu 18.04.6 ARM64 ios file
https://drive.google.com/drive/folders/1WtE12l41CbENgubpRAqTlwjE3TgMJD08?usp=share_link

2. Install Parallels Desktop or UTM, VM,..
https://maclife.io/parallels-desktop-20-huong-dan-cai-dat.html

3. You must have a USB (or you can create a virtual usb via apps)
Send the ios file to the USB
<img width="1580" alt="Ảnh màn hình 2025-02-21 lúc 00 11 31" src="https://github.com/user-attachments/assets/0aae5961-b738-40db-9348-79bc516e2a86" />

Fix: umount the usb 
<img width="1580" alt="Ảnh màn hình 2025-02-21 lúc 00 11 42" src="https://github.com/user-attachments/assets/5a53c83d-5593-411a-b306-314acd6eef20" />

Try again:
<img width="1580" alt="Ảnh màn hình 2025-02-21 lúc 00 13 08" src="https://github.com/user-attachments/assets/68d39a2e-b157-4f53-828c-083334e4cde1" />


4. Open Parallels desktop
step1. Click install another OS from a DVD or image file
# click "Customie Settings before Installation" 
<img width="871" alt="Ảnh màn hình 2025-02-21 lúc 00 14 55" src="https://github.com/user-attachments/assets/3171cc27-ef47-4a39-aafb-adc8e762bd9e" />
Set up your CPU & Memory 
<img width="871" alt="Ảnh màn hình 2025-02-21 lúc 00 15 14" src="https://github.com/user-attachments/assets/d9d35fdf-9fbd-4323-aea9-3f93b1630e8a" />

step2. Link the USB to Ubuntu
# Click Devices -> USB & Bluetooth -> USB Connection Preferences
<img width="871" alt="Ảnh màn hình 2025-02-21 lúc 00 15 20" src="https://github.com/user-attachments/assets/c9ddb276-094d-4c0b-bca7-3f7fb8b74a36" />
# Click "+", then link the USB
<img width="870" alt="Ảnh màn hình 2025-02-21 lúc 00 20 08" src="https://github.com/user-attachments/assets/77de390b-2449-4bc5-b835-63db8b33880c" />
<img width="1019" alt="Ảnh màn hình 2025-02-21 lúc 00 20 22" src="https://github.com/user-attachments/assets/29eab329-2fb5-4e6e-824f-17421bc83460" />

step3.
<img width="1024" alt="Ảnh màn hình 2025-02-21 lúc 00 16 10" src="https://github.com/user-attachments/assets/63b8da92-aa6e-408b-8509-b639f08b86f6" />
<img width="1024" alt="Ảnh màn hình 2025-02-21 lúc 00 16 19" src="https://github.com/user-attachments/assets/d8edc1c6-0d80-4d73-b764-a0387de42bea" />
<img width="1024" alt="Ảnh màn hình 2025-02-21 lúc 00 16 23" src="https://github.com/user-attachments/assets/f90a468e-19b8-41e9-b899-b185d030de1a" />
<img width="1024" alt="Ảnh màn hình 2025-02-21 lúc 00 16 27" src="https://github.com/user-attachments/assets/dba90267-a1f6-4fd8-872e-6744729379e7" />
<img width="1024" alt="Ảnh màn hình 2025-02-21 lúc 00 16 31" src="https://github.com/user-attachments/assets/22d803cb-ac50-4622-a930-410b4fc80171" />
<img width="1019" alt="Ảnh màn hình 2025-02-21 lúc 00 20 38" src="https://github.com/user-attachments/assets/5d328f1c-f303-476e-9a00-2186f96977da" />
<img width="1019" alt="Ảnh màn hình 2025-02-21 lúc 00 21 05" src="https://github.com/user-attachments/assets/793ddc48-3ca6-4a8a-976d-1583d9cd7d1c" />
<img width="1019" alt="Ảnh màn hình 2025-02-21 lúc 00 21 21" src="https://github.com/user-attachments/assets/09b7b5c6-4b17-4c11-9b31-7943d48a3175" />
<img width="1019" alt="Ảnh màn hình 2025-02-21 lúc 00 21 27" src="https://github.com/user-attachments/assets/35085161-2351-443d-9eee-a10ec777ab30" />
<img width="1019" alt="Ảnh màn hình 2025-02-21 lúc 00 22 32" src="https://github.com/user-attachments/assets/fc74fefd-a0c9-40da-ba8b-1b18678b4a7e" />
<img width="1019" alt="Ảnh màn hình 2025-02-21 lúc 00 22 38" src="https://github.com/user-attachments/assets/c0dfcb92-c43f-4db4-a382-fba1b4b7a09d" />
<img width="1019" alt="Ảnh màn hình 2025-02-21 lúc 00 22 44" src="https://github.com/user-attachments/assets/e9223b63-05dd-42af-b0d1-7a285e871083" />
<img width="1019" alt="Ảnh màn hình 2025-02-21 lúc 00 23 04" src="https://github.com/user-attachments/assets/880a30bb-0e82-4dd2-b30f-6f2670e0c09b" />
<img width="1019" alt="Ảnh màn hình 2025-02-21 lúc 00 34 33" src="https://github.com/user-attachments/assets/d75889a6-8bd7-43ff-b012-9425cf502196" />
<img width="1019" alt="Ảnh màn hình 2025-02-21 lúc 00 34 48" src="https://github.com/user-attachments/assets/53b0518b-8a9e-47a8-b9d7-bb0e8d236b22" />
<img width="1019" alt="Ảnh màn hình 2025-02-21 lúc 00 36 33" src="https://github.com/user-attachments/assets/2f3cab7f-04a8-4ac8-9d0a-d33f43630593" />
=> DONE
<img width="1019" alt="Ảnh màn hình 2025-02-21 lúc 00 36 42" src="https://github.com/user-attachments/assets/09263a8f-75b2-4a86-a614-a2cffb01db3c" />

Step4. Login
Enter your username
<img width="1025" alt="Ảnh màn hình 2025-02-21 lúc 00 38 40" src="https://github.com/user-attachments/assets/d91f3475-e62a-4bd5-9c6d-33b5e9c8aec7" />
Enter your password
<img width="1025" alt="Ảnh màn hình 2025-02-21 lúc 00 38 50" src="https://github.com/user-attachments/assets/3c8384e1-6ae2-47bf-965a-298cd009248f" />

Step5. Install Gnome Desktop
> sudo apt update
<img width="1025" alt="Ảnh màn hình 2025-02-21 lúc 00 39 13" src="https://github.com/user-attachments/assets/98c444af-9aa3-4a3c-85d4-1159480228e1" />

> sudo apt install ubuntu-gnome-desktop
<img width="1025" alt="Ảnh màn hình 2025-02-21 lúc 00 39 25" src="https://github.com/user-attachments/assets/fbdd72bc-34d0-4e31-9842-9a5635daa895" />

<img width="1025" alt="Ảnh màn hình 2025-02-21 lúc 00 54 10" src="https://github.com/user-attachments/assets/e3ef2e48-ae56-442f-938f-797693d4f835" />

Now, you should reboot the system
> Sudo apt reboot
<img width="1025" alt="Ảnh màn hình 2025-02-21 lúc 00 56 31" src="https://github.com/user-attachments/assets/dfb64d94-5f91-4e7c-b9c2-caa7db67f320" />

If you still enter the terminal after rebooting, run:
> sudo systemctl set-default graphical.target
> sudo reboot

# Install SSH

sudo apt íntall openssh-server -y

! openssh-server (>= 1:7.6p1-4) but it is not going to be installed 

-> sudo apt purge openssh-client 
-> sudo apt íntall openssh-server -y

test SSH:
-> sudo systemctl status ssh

if ssh is not enabled
-> sudo systemctl restart ssh

# Set up Hadoop

1. Install Java 8 (highly recommended)

> sudo apt install openjdk-8-jre-headless
> sudo apt install openjdk-8-jdk-headless

2. Install ssh and pdsh

> sudo apt install ssh
> sudo apt install pdsh

3. Setup passphrase for ssh

>ssh-keygen -t rsa -P '' -f ~/.ssh/id_rsa
>cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys
> chmod 0600 ~/.ssh/authorized_keys
// ensure the file ~/.ssh/authorized_keys exists

// check whether you can ssh to localhost
> ssh localhost
> logout
// or exit

Configure rcmd to ssh as default

> sudo nano /etc/pdsh/rcmd_default

// add “ssh” to the file
// Ctrl X -> Y -> Enter to exit

// or: > sudo echo “ssh” > /etc/pdsh/rcmd_default

4. Download Hadoop 3.2.1 

> cd Desktop
> wget https://archive.apache.org/dist/hadoop/common/hadoop-3.2.1/hadoop-3.2.1.tar.gz

> tar -xvf hadoop-3.2.1.tar.gz

5. Declare JAVA_HOME for Hadoop

// cd to the extracted folder of Hadoop
> cd Desktop/hadoop-3.2.1
> nano etc/hadoop/hadoop-env.sh

// add this line to the end of the file
// check your own Java path if different (ARM64 NOT AMD64)
> export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-arm64

> export PATH=${JAVA_HOME}/bin:${PATH}

> export HADOOP_CLASSPATH=${JAVA_HOME}/lib/tools.jar
// Ctrl X -> Y -> Enter to exit

# Verify installation
// cd to the extracted folder of Hadoop
> bin/hadoop

# Set up Pseudo-Distributed Mode
Configuration
Edit these following files

> sudo nano etc/hadoop/core-site.xml

> <configuration>
>    <property>
>        <name>fs.defaultFS</name>
>        <value>hdfs://localhost:9000</value>
>    </property>
> </configuration>

> sudo nano etc/hadoop/hdfs-site.xml

> <configuration>
>    <property>
>        <name>dfs.replication</name>
>        <value>1</value>
>    </property>
> </configuration>

# Format the filesystem
> bin/hdfs namenode -format

# Start HDFS
> cd Desktop/hadoop-3.2.1
> sbin/start-dfs.sh

> jps
\\ 12345 NameNode
\\ 23456 DataNode
\\ 34567 SecondaryNameNode

http://localhost:9870/

# Run a MapReduce job locally
> bin/hdfs dfs -mkdir /user
> bin/hdfs dfs -mkdir /user/$(whoami)

Copy input to HDFS
> bin/hdfs dfs -mkdir input
> bin/hdfs dfs -put etc/hadoop/*.xml /user/$(whoami)/input

> bin/hdfs dfs -ls /user/$(whoami)/input

# Run a MapReduce Job
> ls share/hadoop/mapreduce/
> bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.1.jar grep /user/$(whoami)/input /user/$(whoami)/output 'dfs[a-z.]+'

Check the result
> bin/hdfs dfs -ls /user/$(whoami)/output
or
> bin/hdfs dfs -get /user/$(whoami)/output output
> cat output/*
or
> bin/hdfs dfs -cat /user/$(whoami)/output/*

# Yarn
> cd Desktop/hadoop-3.2.1
> sudo nano etc/hadoop/mapred-site.xml

> <configuration>
  
>    <property>
  
>        <name>mapreduce.framework.name</name>
  
>        <value>yarn</value>

>    </property>

>    <property>

>        <name>mapreduce.application.classpath</name>
  
>        <value>$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*:$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*</value>

>    </property>

> </configuration>

> Ctrl + X -> Y -> Enter

> sudo nano etc/hadoop/yarn-site.xml

> <configuration>
  
>    <property>
  
>        <name>yarn.nodemanager.aux-services</name>

>        <value>mapreduce_shuffle</value>

>    </property>

>    <property>

>        <name>yarn.nodemanager.env-whitelist</name>

>        <value>JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME</value>

>    </property>

> </configuration>


> Ctrl + X -> Y -> Enter

> sbin/start-yarn.sh

> jps

// 45678 ResourceManager
// 56789 NodeManager

# Run Run a MapReduce Job on Yarn
> bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.1.jar grep /user/$(whoami)/input /user/$(whoami)/output 'dfs[a-z.]+'

Check the result
> bin/hdfs dfs -ls /user/$(whoami)/output
or
> bin/hdfs dfs -get /user/$(whoami)/output output
> cat output/*

# STOP YARN AND HDFS (before using "sudo poweroff")
> sbin/stop-yarn.sh
> sbin/stop-dfs.sh
> sudo poweroff









